- name: Deploying pet-clinic
  hosts: app_server
  tasks:
    - name: Create a Directory /jars
      become: yes
      file:
        path: /jars
        state: directory
    - name: download jar from Jfrog artifactory
      get_url:
        url: http://3.110.222.216:8082/pet-clinic/spring-petclinic-2.7.0-SNAPSHOT.jar        
        dest: /jars
    - name: Deploy the Jar file
      ansible.builtin.shell: cd /jars ; java -jar spring-petclinic-2.7.0-SNAPSHOT.jar        